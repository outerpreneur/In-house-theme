<div class="slideshow-wrap" data-autoplay="data-autoplay-speed">
    {{ section.settings.autoplay_speed }}
    {% for block in section.blocks %}
    <div class="slide" {{ block_shopify_attributes }}>

        <!-- slide image -->
        {% if block.settings.image != blank %}
        <div class="slide-image">
        <img src="{{ block.settings.image | img_url: '600x' }}" alt="{{ block.settings.image.alt }}">
        </div>
        {% endif %}

        <!-- slide content -->

        <div class="slide-content">
            <h1>{{block.settings.title }}</h1>
            {% if block.settings.content != blank %}
                <p>{{block.settings.content }}</p>
            {% endif %}
            {% if block.settings.content != blank %}
                <a href="{{ block.settings.button_url }}" class="button">
            {% if block.settings.content != blank %}
                {{block.settings.button_text }}
            {% else %}
            {{ 'general.shop.shop_now' | t }}
            {% endif %}
        </a>
        {% endif %}
        </div>
    </div>
    {% endfor %}
</div>

{% schema %}

{
    "name":"slideshow",
    "class":"hero-slideshow",
    "settings":[
        {
            "id":"autoplay",
            "type":"checkbox",
            "label":"Autoplay Slideshow",
            "default":true
        },
        {
            "id":"autoplay_speed",
            "type":"range",
            "min":2000,
            "max":8000,
            "step":500,
            "unit":"ms",
            "label":"autoplay speed",
            "default":5000
        }
    ],
    "blocks":[
        {
            "type":"slide",
            "name":"slide",
            "settings":[
                {
                    "id":"image",
                    "type":"image_picker",
                    "label":"image"
                },
                {
                    "id":"title",
                    "type":"text",
                    "label":"title",
                    "placeholder":"slide title"
                },
                {
                    "id":"content",
                    "type":"textarea",
                    "label":"swipe content"
                },
                {
                    "id":"button_url",
                    "type":"url",
                    "label":"Button URL"
                },
                {
                    "id":"button_text",
                    "type":"text",
                    "label":"button text",
                    "placeholder":"Shop now",
                    "info":"Defaults to \"shop now\""
                }
            ]
        }
    ],
    "default": {
    "settings": {
      "autoplay": true
    },
    "blocks": [
      {
        "type": "slide"
      },
      {
        "type": "slide"
      }
    ]
  }
    }

{% endschema %}